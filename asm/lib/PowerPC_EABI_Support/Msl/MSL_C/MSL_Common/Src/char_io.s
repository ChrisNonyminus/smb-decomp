.include "macros.inc"

.section .text, "ax"  # 0x800065A0 - 0x8010F860

.global puts
puts:
/* 80104208 00100128  7C 08 02 A6 */	mflr r0
/* 8010420C 0010012C  3C 80 80 1F */	lis r4, lbl_801ED000@ha
/* 80104210 00100130  90 01 00 04 */	stw r0, 4(r1)
/* 80104214 00100134  38 84 D0 00 */	addi r4, r4, lbl_801ED000@l
/* 80104218 00100138  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8010421C 0010013C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80104220 00100140  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80104224 00100144  3B C4 00 48 */	addi r30, r4, 0x48
/* 80104228 00100148  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8010422C 0010014C  3B A3 00 00 */	addi r29, r3, 0
/* 80104230 00100150  48 00 00 68 */	b lbl_80104298
lbl_80104234:
/* 80104234 00100154  38 7E 00 00 */	addi r3, r30, 0
/* 80104238 00100158  38 80 FF FF */	li r4, -1
/* 8010423C 0010015C  48 00 2A C5 */	bl fwide
/* 80104240 00100160  2C 03 00 00 */	cmpwi r3, 0
/* 80104244 00100164  41 80 00 0C */	blt lbl_80104250
/* 80104248 00100168  38 60 FF FF */	li r3, -1
/* 8010424C 0010016C  48 00 00 3C */	b lbl_80104288
lbl_80104250:
/* 80104250 00100170  80 7E 00 24 */	lwz r3, 0x24(r30)
/* 80104254 00100174  38 03 FF FF */	addi r0, r3, -1
/* 80104258 00100178  28 03 00 00 */	cmplwi r3, 0
/* 8010425C 0010017C  90 1E 00 24 */	stw r0, 0x24(r30)
/* 80104260 00100180  41 82 00 1C */	beq lbl_8010427C
/* 80104264 00100184  80 9E 00 20 */	lwz r4, 0x20(r30)
/* 80104268 00100188  57 E3 06 3E */	clrlwi r3, r31, 0x18
/* 8010426C 0010018C  38 04 00 01 */	addi r0, r4, 1
/* 80104270 00100190  90 1E 00 20 */	stw r0, 0x20(r30)
/* 80104274 00100194  9B E4 00 00 */	stb r31, 0(r4)
/* 80104278 00100198  48 00 00 10 */	b lbl_80104288
lbl_8010427C:
/* 8010427C 0010019C  38 7F 00 00 */	addi r3, r31, 0
/* 80104280 001001A0  38 9E 00 00 */	addi r4, r30, 0
/* 80104284 001001A4  48 00 00 A9 */	bl __put_char
lbl_80104288:
/* 80104288 001001A8  2C 03 FF FF */	cmpwi r3, -1
/* 8010428C 001001AC  40 82 00 0C */	bne lbl_80104298
/* 80104290 001001B0  38 60 FF FF */	li r3, -1
/* 80104294 001001B4  48 00 00 7C */	b lbl_80104310
lbl_80104298:
/* 80104298 001001B8  88 1D 00 00 */	lbz r0, 0(r29)
/* 8010429C 001001BC  3B BD 00 01 */	addi r29, r29, 1
/* 801042A0 001001C0  7C 1F 07 75 */	extsb. r31, r0
/* 801042A4 001001C4  40 82 FF 90 */	bne lbl_80104234
/* 801042A8 001001C8  38 7E 00 00 */	addi r3, r30, 0
/* 801042AC 001001CC  38 80 FF FF */	li r4, -1
/* 801042B0 001001D0  48 00 2A 51 */	bl fwide
/* 801042B4 001001D4  2C 03 00 00 */	cmpwi r3, 0
/* 801042B8 001001D8  41 80 00 0C */	blt lbl_801042C4
/* 801042BC 001001DC  38 60 FF FF */	li r3, -1
/* 801042C0 001001E0  48 00 00 3C */	b lbl_801042FC
lbl_801042C4:
/* 801042C4 001001E4  80 7E 00 24 */	lwz r3, 0x24(r30)
/* 801042C8 001001E8  38 03 FF FF */	addi r0, r3, -1
/* 801042CC 001001EC  28 03 00 00 */	cmplwi r3, 0
/* 801042D0 001001F0  90 1E 00 24 */	stw r0, 0x24(r30)
/* 801042D4 001001F4  41 82 00 1C */	beq lbl_801042F0
/* 801042D8 001001F8  80 9E 00 20 */	lwz r4, 0x20(r30)
/* 801042DC 001001FC  38 60 00 0A */	li r3, 0xa
/* 801042E0 00100200  38 04 00 01 */	addi r0, r4, 1
/* 801042E4 00100204  90 1E 00 20 */	stw r0, 0x20(r30)
/* 801042E8 00100208  98 64 00 00 */	stb r3, 0(r4)
/* 801042EC 0010020C  48 00 00 10 */	b lbl_801042FC
lbl_801042F0:
/* 801042F0 00100210  38 60 00 0A */	li r3, 0xa
/* 801042F4 00100214  38 9E 00 00 */	addi r4, r30, 0
/* 801042F8 00100218  48 00 00 35 */	bl __put_char
lbl_801042FC:
/* 801042FC 0010021C  2C 03 FF FF */	cmpwi r3, -1
/* 80104300 00100220  40 82 00 0C */	bne lbl_8010430C
/* 80104304 00100224  38 60 FF FF */	li r3, -1
/* 80104308 00100228  48 00 00 08 */	b lbl_80104310
lbl_8010430C:
/* 8010430C 0010022C  38 60 00 00 */	li r3, 0
lbl_80104310:
/* 80104310 00100230  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80104314 00100234  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80104318 00100238  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8010431C 0010023C  7C 08 03 A6 */	mtlr r0
/* 80104320 00100240  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80104324 00100244  38 21 00 20 */	addi r1, r1, 0x20
/* 80104328 00100248  4E 80 00 20 */	blr

.global __put_char
__put_char:
/* 8010432C 0010024C  7C 08 02 A6 */	mflr r0
/* 80104330 00100250  90 01 00 04 */	stw r0, 4(r1)
/* 80104334 00100254  38 00 00 00 */	li r0, 0
/* 80104338 00100258  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 8010433C 0010025C  93 E1 00 14 */	stw r31, 0x14(r1)
/* 80104340 00100260  7C 9F 23 78 */	mr r31, r4
/* 80104344 00100264  93 C1 00 10 */	stw r30, 0x10(r1)
/* 80104348 00100268  3B C3 00 00 */	addi r30, r3, 0
/* 8010434C 0010026C  A0 84 00 04 */	lhz r4, 4(r4)
/* 80104350 00100270  90 1F 00 24 */	stw r0, 0x24(r31)
/* 80104354 00100274  54 84 D7 7E */	rlwinm r4, r4, 0x1a, 0x1d, 0x1f
/* 80104358 00100278  88 1F 00 0A */	lbz r0, 0xa(r31)
/* 8010435C 0010027C  28 00 00 00 */	cmplwi r0, 0
/* 80104360 00100280  40 82 00 0C */	bne lbl_8010436C
/* 80104364 00100284  2C 04 00 00 */	cmpwi r4, 0
/* 80104368 00100288  40 82 00 0C */	bne lbl_80104374
lbl_8010436C:
/* 8010436C 0010028C  38 60 FF FF */	li r3, -1
/* 80104370 00100290  48 00 01 2C */	b lbl_8010449C
lbl_80104374:
/* 80104374 00100294  2C 04 00 02 */	cmpwi r4, 2
/* 80104378 00100298  40 82 00 08 */	bne lbl_80104380
/* 8010437C 0010029C  48 00 08 A5 */	bl __stdio_atexit
lbl_80104380:
/* 80104380 001002A0  88 7F 00 08 */	lbz r3, 8(r31)
/* 80104384 001002A4  54 60 DF 7F */	rlwinm. r0, r3, 0x1b, 0x1d, 0x1f
/* 80104388 001002A8  40 82 00 24 */	bne lbl_801043AC
/* 8010438C 001002AC  88 1F 00 04 */	lbz r0, 4(r31)
/* 80104390 001002B0  54 00 EF BD */	rlwinm. r0, r0, 0x1d, 0x1e, 0x1e
/* 80104394 001002B4  41 82 00 18 */	beq lbl_801043AC
/* 80104398 001002B8  38 00 00 01 */	li r0, 1
/* 8010439C 001002BC  50 03 2E 34 */	rlwimi r3, r0, 5, 0x18, 0x1a
/* 801043A0 001002C0  98 7F 00 08 */	stb r3, 8(r31)
/* 801043A4 001002C4  7F E3 FB 78 */	mr r3, r31
/* 801043A8 001002C8  4B FF FE 2D */	bl __prep_buffer
lbl_801043AC:
/* 801043AC 001002CC  88 1F 00 08 */	lbz r0, 8(r31)
/* 801043B0 001002D0  54 00 DF 7E */	rlwinm r0, r0, 0x1b, 0x1d, 0x1f
/* 801043B4 001002D4  28 00 00 01 */	cmplwi r0, 1
/* 801043B8 001002D8  41 82 00 1C */	beq lbl_801043D4
/* 801043BC 001002DC  38 00 00 01 */	li r0, 1
/* 801043C0 001002E0  98 1F 00 0A */	stb r0, 0xa(r31)
/* 801043C4 001002E4  38 00 00 00 */	li r0, 0
/* 801043C8 001002E8  38 60 FF FF */	li r3, -1
/* 801043CC 001002EC  90 1F 00 24 */	stw r0, 0x24(r31)
/* 801043D0 001002F0  48 00 00 CC */	b lbl_8010449C
lbl_801043D4:
/* 801043D4 001002F4  88 1F 00 04 */	lbz r0, 4(r31)
/* 801043D8 001002F8  54 00 FF BE */	rlwinm r0, r0, 0x1f, 0x1e, 0x1f
/* 801043DC 001002FC  28 00 00 02 */	cmplwi r0, 2
/* 801043E0 00100300  41 82 00 1C */	beq lbl_801043FC
/* 801043E4 00100304  80 7F 00 18 */	lwz r3, 0x18(r31)
/* 801043E8 00100308  80 1F 00 20 */	lwz r0, 0x20(r31)
/* 801043EC 0010030C  80 9F 00 1C */	lwz r4, 0x1c(r31)
/* 801043F0 00100310  7C 03 00 50 */	subf r0, r3, r0
/* 801043F4 00100314  7C 04 00 40 */	cmplw r4, r0
/* 801043F8 00100318  40 82 00 30 */	bne lbl_80104428
lbl_801043FC:
/* 801043FC 0010031C  38 7F 00 00 */	addi r3, r31, 0
/* 80104400 00100320  38 80 00 00 */	li r4, 0
/* 80104404 00100324  4B FF FD 05 */	bl __flush_buffer
/* 80104408 00100328  2C 03 00 00 */	cmpwi r3, 0
/* 8010440C 0010032C  41 82 00 1C */	beq lbl_80104428
/* 80104410 00100330  38 00 00 01 */	li r0, 1
/* 80104414 00100334  98 1F 00 0A */	stb r0, 0xa(r31)
/* 80104418 00100338  38 00 00 00 */	li r0, 0
/* 8010441C 0010033C  38 60 FF FF */	li r3, -1
/* 80104420 00100340  90 1F 00 24 */	stw r0, 0x24(r31)
/* 80104424 00100344  48 00 00 78 */	b lbl_8010449C
lbl_80104428:
/* 80104428 00100348  80 7F 00 24 */	lwz r3, 0x24(r31)
/* 8010442C 0010034C  38 03 FF FF */	addi r0, r3, -1
/* 80104430 00100350  90 1F 00 24 */	stw r0, 0x24(r31)
/* 80104434 00100354  80 7F 00 20 */	lwz r3, 0x20(r31)
/* 80104438 00100358  38 03 00 01 */	addi r0, r3, 1
/* 8010443C 0010035C  90 1F 00 20 */	stw r0, 0x20(r31)
/* 80104440 00100360  9B C3 00 00 */	stb r30, 0(r3)
/* 80104444 00100364  88 1F 00 04 */	lbz r0, 4(r31)
/* 80104448 00100368  54 00 FF BE */	rlwinm r0, r0, 0x1f, 0x1e, 0x1f
/* 8010444C 0010036C  28 00 00 02 */	cmplwi r0, 2
/* 80104450 00100370  41 82 00 48 */	beq lbl_80104498
/* 80104454 00100374  28 00 00 00 */	cmplwi r0, 0
/* 80104458 00100378  41 82 00 0C */	beq lbl_80104464
/* 8010445C 0010037C  2C 1E 00 0A */	cmpwi r30, 0xa
/* 80104460 00100380  40 82 00 30 */	bne lbl_80104490
lbl_80104464:
/* 80104464 00100384  38 7F 00 00 */	addi r3, r31, 0
/* 80104468 00100388  38 80 00 00 */	li r4, 0
/* 8010446C 0010038C  4B FF FC 9D */	bl __flush_buffer
/* 80104470 00100390  2C 03 00 00 */	cmpwi r3, 0
/* 80104474 00100394  41 82 00 1C */	beq lbl_80104490
/* 80104478 00100398  38 00 00 01 */	li r0, 1
/* 8010447C 0010039C  98 1F 00 0A */	stb r0, 0xa(r31)
/* 80104480 001003A0  38 00 00 00 */	li r0, 0
/* 80104484 001003A4  38 60 FF FF */	li r3, -1
/* 80104488 001003A8  90 1F 00 24 */	stw r0, 0x24(r31)
/* 8010448C 001003AC  48 00 00 10 */	b lbl_8010449C
lbl_80104490:
/* 80104490 001003B0  38 00 00 00 */	li r0, 0
/* 80104494 001003B4  90 1F 00 24 */	stw r0, 0x24(r31)
lbl_80104498:
/* 80104498 001003B8  57 C3 06 3E */	clrlwi r3, r30, 0x18
lbl_8010449C:
/* 8010449C 001003BC  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 801044A0 001003C0  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 801044A4 001003C4  83 C1 00 10 */	lwz r30, 0x10(r1)
/* 801044A8 001003C8  7C 08 03 A6 */	mtlr r0
/* 801044AC 001003CC  38 21 00 18 */	addi r1, r1, 0x18
/* 801044B0 001003D0  4E 80 00 20 */	blr
