.include "macros.inc"

.section .text, "ax"  # 0x800065A0 - 0x8010F860

.global BlockReadCallback
BlockReadCallback:
/* 800D771C 000D363C  7C 08 02 A6 */	mflr r0
/* 800D7720 000D3640  90 01 00 04 */	stw r0, 4(r1)
/* 800D7724 000D3644  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800D7728 000D3648  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800D772C 000D364C  3B E3 00 00 */	addi r31, r3, 0
/* 800D7730 000D3650  3C 60 80 2C */	lis r3, __CARDBlock@ha
/* 800D7734 000D3654  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800D7738 000D3658  1C BF 01 08 */	mulli r5, r31, 0x108
/* 800D773C 000D365C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 800D7740 000D3660  38 03 7C 60 */	addi r0, r3, __CARDBlock@l
/* 800D7744 000D3664  7C 9D 23 79 */	or. r29, r4, r4
/* 800D7748 000D3668  7F C0 2A 14 */	add r30, r0, r5
/* 800D774C 000D366C  41 80 00 50 */	blt lbl_800D779C
/* 800D7750 000D3670  80 7E 00 B8 */	lwz r3, 0xb8(r30)
/* 800D7754 000D3674  38 03 02 00 */	addi r0, r3, 0x200
/* 800D7758 000D3678  90 1E 00 B8 */	stw r0, 0xb8(r30)
/* 800D775C 000D367C  80 7E 00 B0 */	lwz r3, 0xb0(r30)
/* 800D7760 000D3680  38 03 02 00 */	addi r0, r3, 0x200
/* 800D7764 000D3684  90 1E 00 B0 */	stw r0, 0xb0(r30)
/* 800D7768 000D3688  80 7E 00 B4 */	lwz r3, 0xb4(r30)
/* 800D776C 000D368C  38 03 02 00 */	addi r0, r3, 0x200
/* 800D7770 000D3690  90 1E 00 B4 */	stw r0, 0xb4(r30)
/* 800D7774 000D3694  80 7E 00 AC */	lwz r3, 0xac(r30)
/* 800D7778 000D3698  34 03 FF FF */	addic. r0, r3, -1
/* 800D777C 000D369C  90 1E 00 AC */	stw r0, 0xac(r30)
/* 800D7780 000D36A0  40 81 00 1C */	ble lbl_800D779C
/* 800D7784 000D36A4  3C 60 80 0D */	lis r3, BlockReadCallback@ha
/* 800D7788 000D36A8  38 83 77 1C */	addi r4, r3, BlockReadCallback@l
/* 800D778C 000D36AC  38 7F 00 00 */	addi r3, r31, 0
/* 800D7790 000D36B0  4B FF E6 61 */	bl __CARDReadSegment
/* 800D7794 000D36B4  7C 7D 1B 79 */	or. r29, r3, r3
/* 800D7798 000D36B8  40 80 00 44 */	bge lbl_800D77DC
lbl_800D779C:
/* 800D779C 000D36BC  80 1E 00 D0 */	lwz r0, 0xd0(r30)
/* 800D77A0 000D36C0  28 00 00 00 */	cmplwi r0, 0
/* 800D77A4 000D36C4  40 82 00 10 */	bne lbl_800D77B4
/* 800D77A8 000D36C8  38 7E 00 00 */	addi r3, r30, 0
/* 800D77AC 000D36CC  38 9D 00 00 */	addi r4, r29, 0
/* 800D77B0 000D36D0  4B FF EA D1 */	bl __CARDPutControlBlock
lbl_800D77B4:
/* 800D77B4 000D36D4  80 1E 00 D4 */	lwz r0, 0xd4(r30)
/* 800D77B8 000D36D8  28 00 00 00 */	cmplwi r0, 0
/* 800D77BC 000D36DC  7C 0C 03 78 */	mr r12, r0
/* 800D77C0 000D36E0  41 82 00 1C */	beq lbl_800D77DC
/* 800D77C4 000D36E4  38 00 00 00 */	li r0, 0
/* 800D77C8 000D36E8  7D 88 03 A6 */	mtlr r12
/* 800D77CC 000D36EC  90 1E 00 D4 */	stw r0, 0xd4(r30)
/* 800D77D0 000D36F0  38 7F 00 00 */	addi r3, r31, 0
/* 800D77D4 000D36F4  38 9D 00 00 */	addi r4, r29, 0
/* 800D77D8 000D36F8  4E 80 00 21 */	blrl 
lbl_800D77DC:
/* 800D77DC 000D36FC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800D77E0 000D3700  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800D77E4 000D3704  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800D77E8 000D3708  7C 08 03 A6 */	mtlr r0
/* 800D77EC 000D370C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 800D77F0 000D3710  38 21 00 20 */	addi r1, r1, 0x20
/* 800D77F4 000D3714  4E 80 00 20 */	blr 

.global __CARDRead
__CARDRead:
/* 800D77F8 000D3718  7C 08 02 A6 */	mflr r0
/* 800D77FC 000D371C  1D 23 01 08 */	mulli r9, r3, 0x108
/* 800D7800 000D3720  90 01 00 04 */	stw r0, 4(r1)
/* 800D7804 000D3724  3D 00 80 2C */	lis r8, __CARDBlock@ha
/* 800D7808 000D3728  94 21 FF F8 */	stwu r1, -8(r1)
/* 800D780C 000D372C  38 08 7C 60 */	addi r0, r8, __CARDBlock@l
/* 800D7810 000D3730  7D 00 4A 14 */	add r8, r0, r9
/* 800D7814 000D3734  80 08 00 00 */	lwz r0, 0(r8)
/* 800D7818 000D3738  2C 00 00 00 */	cmpwi r0, 0
/* 800D781C 000D373C  40 82 00 0C */	bne lbl_800D7828
/* 800D7820 000D3740  38 60 FF FD */	li r3, -3
/* 800D7824 000D3744  48 00 00 28 */	b lbl_800D784C
lbl_800D7828:
/* 800D7828 000D3748  90 E8 00 D4 */	stw r7, 0xd4(r8)
/* 800D782C 000D374C  54 A0 BA 7E */	srwi r0, r5, 9
/* 800D7830 000D3750  3C A0 80 0D */	lis r5, BlockReadCallback@ha
/* 800D7834 000D3754  90 08 00 AC */	stw r0, 0xac(r8)
/* 800D7838 000D3758  38 05 77 1C */	addi r0, r5, BlockReadCallback@l
/* 800D783C 000D375C  90 88 00 B0 */	stw r4, 0xb0(r8)
/* 800D7840 000D3760  7C 04 03 78 */	mr r4, r0
/* 800D7844 000D3764  90 C8 00 B4 */	stw r6, 0xb4(r8)
/* 800D7848 000D3768  4B FF E5 A9 */	bl __CARDReadSegment
lbl_800D784C:
/* 800D784C 000D376C  80 01 00 0C */	lwz r0, 0xc(r1)
/* 800D7850 000D3770  38 21 00 08 */	addi r1, r1, 8
/* 800D7854 000D3774  7C 08 03 A6 */	mtlr r0
/* 800D7858 000D3778  4E 80 00 20 */	blr 

.global BlockWriteCallback
BlockWriteCallback:
/* 800D785C 000D377C  7C 08 02 A6 */	mflr r0
/* 800D7860 000D3780  90 01 00 04 */	stw r0, 4(r1)
/* 800D7864 000D3784  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800D7868 000D3788  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 800D786C 000D378C  3B E3 00 00 */	addi r31, r3, 0
/* 800D7870 000D3790  3C 60 80 2C */	lis r3, __CARDBlock@ha
/* 800D7874 000D3794  93 C1 00 18 */	stw r30, 0x18(r1)
/* 800D7878 000D3798  1C BF 01 08 */	mulli r5, r31, 0x108
/* 800D787C 000D379C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 800D7880 000D37A0  38 03 7C 60 */	addi r0, r3, __CARDBlock@l
/* 800D7884 000D37A4  7C 9D 23 79 */	or. r29, r4, r4
/* 800D7888 000D37A8  7F C0 2A 14 */	add r30, r0, r5
/* 800D788C 000D37AC  41 80 00 50 */	blt lbl_800D78DC
/* 800D7890 000D37B0  80 7E 00 B8 */	lwz r3, 0xb8(r30)
/* 800D7894 000D37B4  38 03 00 80 */	addi r0, r3, 0x80
/* 800D7898 000D37B8  90 1E 00 B8 */	stw r0, 0xb8(r30)
/* 800D789C 000D37BC  80 7E 00 B0 */	lwz r3, 0xb0(r30)
/* 800D78A0 000D37C0  38 03 00 80 */	addi r0, r3, 0x80
/* 800D78A4 000D37C4  90 1E 00 B0 */	stw r0, 0xb0(r30)
/* 800D78A8 000D37C8  80 7E 00 B4 */	lwz r3, 0xb4(r30)
/* 800D78AC 000D37CC  38 03 00 80 */	addi r0, r3, 0x80
/* 800D78B0 000D37D0  90 1E 00 B4 */	stw r0, 0xb4(r30)
/* 800D78B4 000D37D4  80 7E 00 AC */	lwz r3, 0xac(r30)
/* 800D78B8 000D37D8  34 03 FF FF */	addic. r0, r3, -1
/* 800D78BC 000D37DC  90 1E 00 AC */	stw r0, 0xac(r30)
/* 800D78C0 000D37E0  40 81 00 1C */	ble lbl_800D78DC
/* 800D78C4 000D37E4  3C 60 80 0D */	lis r3, BlockWriteCallback@ha
/* 800D78C8 000D37E8  38 83 78 5C */	addi r4, r3, BlockWriteCallback@l
/* 800D78CC 000D37EC  38 7F 00 00 */	addi r3, r31, 0
/* 800D78D0 000D37F0  4B FF E6 59 */	bl __CARDWritePage
/* 800D78D4 000D37F4  7C 7D 1B 79 */	or. r29, r3, r3
/* 800D78D8 000D37F8  40 80 00 44 */	bge lbl_800D791C
lbl_800D78DC:
/* 800D78DC 000D37FC  80 1E 00 D0 */	lwz r0, 0xd0(r30)
/* 800D78E0 000D3800  28 00 00 00 */	cmplwi r0, 0
/* 800D78E4 000D3804  40 82 00 10 */	bne lbl_800D78F4
/* 800D78E8 000D3808  38 7E 00 00 */	addi r3, r30, 0
/* 800D78EC 000D380C  38 9D 00 00 */	addi r4, r29, 0
/* 800D78F0 000D3810  4B FF E9 91 */	bl __CARDPutControlBlock
lbl_800D78F4:
/* 800D78F4 000D3814  80 1E 00 D4 */	lwz r0, 0xd4(r30)
/* 800D78F8 000D3818  28 00 00 00 */	cmplwi r0, 0
/* 800D78FC 000D381C  7C 0C 03 78 */	mr r12, r0
/* 800D7900 000D3820  41 82 00 1C */	beq lbl_800D791C
/* 800D7904 000D3824  38 00 00 00 */	li r0, 0
/* 800D7908 000D3828  7D 88 03 A6 */	mtlr r12
/* 800D790C 000D382C  90 1E 00 D4 */	stw r0, 0xd4(r30)
/* 800D7910 000D3830  38 7F 00 00 */	addi r3, r31, 0
/* 800D7914 000D3834  38 9D 00 00 */	addi r4, r29, 0
/* 800D7918 000D3838  4E 80 00 21 */	blrl 
lbl_800D791C:
/* 800D791C 000D383C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800D7920 000D3840  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 800D7924 000D3844  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 800D7928 000D3848  7C 08 03 A6 */	mtlr r0
/* 800D792C 000D384C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 800D7930 000D3850  38 21 00 20 */	addi r1, r1, 0x20
/* 800D7934 000D3854  4E 80 00 20 */	blr 

.global __CARDWrite
__CARDWrite:
/* 800D7938 000D3858  7C 08 02 A6 */	mflr r0
/* 800D793C 000D385C  1D 23 01 08 */	mulli r9, r3, 0x108
/* 800D7940 000D3860  90 01 00 04 */	stw r0, 4(r1)
/* 800D7944 000D3864  3D 00 80 2C */	lis r8, __CARDBlock@ha
/* 800D7948 000D3868  94 21 FF F8 */	stwu r1, -8(r1)
/* 800D794C 000D386C  38 08 7C 60 */	addi r0, r8, __CARDBlock@l
/* 800D7950 000D3870  7D 00 4A 14 */	add r8, r0, r9
/* 800D7954 000D3874  80 08 00 00 */	lwz r0, 0(r8)
/* 800D7958 000D3878  2C 00 00 00 */	cmpwi r0, 0
/* 800D795C 000D387C  40 82 00 0C */	bne lbl_800D7968
/* 800D7960 000D3880  38 60 FF FD */	li r3, -3
/* 800D7964 000D3884  48 00 00 28 */	b lbl_800D798C
lbl_800D7968:
/* 800D7968 000D3888  90 E8 00 D4 */	stw r7, 0xd4(r8)
/* 800D796C 000D388C  54 A0 C9 FE */	srwi r0, r5, 7
/* 800D7970 000D3890  3C A0 80 0D */	lis r5, BlockWriteCallback@ha
/* 800D7974 000D3894  90 08 00 AC */	stw r0, 0xac(r8)
/* 800D7978 000D3898  38 05 78 5C */	addi r0, r5, BlockWriteCallback@l
/* 800D797C 000D389C  90 88 00 B0 */	stw r4, 0xb0(r8)
/* 800D7980 000D38A0  7C 04 03 78 */	mr r4, r0
/* 800D7984 000D38A4  90 C8 00 B4 */	stw r6, 0xb4(r8)
/* 800D7988 000D38A8  4B FF E5 A1 */	bl __CARDWritePage
lbl_800D798C:
/* 800D798C 000D38AC  80 01 00 0C */	lwz r0, 0xc(r1)
/* 800D7990 000D38B0  38 21 00 08 */	addi r1, r1, 8
/* 800D7994 000D38B4  7C 08 03 A6 */	mtlr r0
/* 800D7998 000D38B8  4E 80 00 20 */	blr 
