.include "macros.inc"

.section .text

.global perf_init_timer
perf_init_timer:
/* 800270A8 00022FC8  7C 08 02 A6 */	mflr r0
/* 800270AC 00022FCC  90 01 00 04 */	stw r0, 4(r1)
/* 800270B0 00022FD0  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 800270B4 00022FD4  93 E1 00 14 */	stw r31, 0x14(r1)
/* 800270B8 00022FD8  7C 7F 1B 78 */	mr r31, r3
/* 800270BC 00022FDC  48 0A 28 D9 */	bl OSGetTick
/* 800270C0 00022FE0  3C 80 80 20 */	lis r4, lbl_801F8DC0@ha
/* 800270C4 00022FE4  57 E5 10 3A */	slwi r5, r31, 2
/* 800270C8 00022FE8  38 04 8D C0 */	addi r0, r4, lbl_801F8DC0@l
/* 800270CC 00022FEC  7C 80 2A 14 */	add r4, r0, r5
/* 800270D0 00022FF0  90 64 00 00 */	stw r3, 0(r4)
/* 800270D4 00022FF4  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 800270D8 00022FF8  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 800270DC 00022FFC  38 21 00 18 */	addi r1, r1, 0x18
/* 800270E0 00023000  7C 08 03 A6 */	mtlr r0
/* 800270E4 00023004  4E 80 00 20 */	blr

.global perf_stop_timer
perf_stop_timer:
/* 800270E8 00023008  7C 08 02 A6 */	mflr r0
/* 800270EC 0002300C  90 01 00 04 */	stw r0, 4(r1)
/* 800270F0 00023010  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800270F4 00023014  90 61 00 08 */	stw r3, 8(r1)
/* 800270F8 00023018  48 0A 28 9D */	bl OSGetTick
/* 800270FC 0002301C  3C 80 80 00 */	lis r4, 0x800000F8@ha
/* 80027100 00023020  80 C1 00 08 */	lwz r6, 8(r1)
/* 80027104 00023024  80 04 00 F8 */	lwz r0, 0x800000F8@l(r4)
/* 80027108 00023028  3C 80 43 1C */	lis r4, 0x431BDE83@ha
/* 8002710C 0002302C  3C A0 80 20 */	lis r5, lbl_801F8DC0@ha
/* 80027110 00023030  54 00 F0 BE */	srwi r0, r0, 2
/* 80027114 00023034  38 84 DE 83 */	addi r4, r4, 0x431BDE83@l
/* 80027118 00023038  7C 04 00 16 */	mulhwu r0, r4, r0
/* 8002711C 0002303C  54 C6 10 3A */	slwi r6, r6, 2
/* 80027120 00023040  38 85 8D C0 */	addi r4, r5, lbl_801F8DC0@l
/* 80027124 00023044  7C 84 32 14 */	add r4, r4, r6
/* 80027128 00023048  80 84 00 00 */	lwz r4, 0(r4)
/* 8002712C 0002304C  54 00 8B FE */	srwi r0, r0, 0xf
/* 80027130 00023050  7C 64 18 50 */	subf r3, r4, r3
/* 80027134 00023054  54 63 18 38 */	slwi r3, r3, 3
/* 80027138 00023058  7C 63 03 96 */	divwu r3, r3, r0
/* 8002713C 0002305C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80027140 00023060  38 21 00 10 */	addi r1, r1, 0x10
/* 80027144 00023064  7C 08 03 A6 */	mtlr r0
/* 80027148 00023068  4E 80 00 20 */	blr

.global perf_free
perf_free:
/* 8002714C 0002306C  7C 08 02 A6 */	mflr r0
/* 80027150 00023070  7C 64 1B 78 */	mr r4, r3
/* 80027154 00023074  90 01 00 04 */	stw r0, 4(r1)
/* 80027158 00023078  94 21 FF F8 */	stwu r1, -8(r1)
/* 8002715C 0002307C  80 6D 99 48 */	lwz r3, lbl_802F1B28-_SDA_BASE_(r13)
/* 80027160 00023080  48 09 B6 69 */	bl OSFreeToHeap
/* 80027164 00023084  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80027168 00023088  38 21 00 08 */	addi r1, r1, 8
/* 8002716C 0002308C  7C 08 03 A6 */	mtlr r0
/* 80027170 00023090  4E 80 00 20 */	blr

.global perf_alloc
perf_alloc:
/* 80027174 00023094  7C 08 02 A6 */	mflr r0
/* 80027178 00023098  7C 64 1B 78 */	mr r4, r3
/* 8002717C 0002309C  90 01 00 04 */	stw r0, 4(r1)
/* 80027180 000230A0  94 21 FF F8 */	stwu r1, -8(r1)
/* 80027184 000230A4  80 6D 99 48 */	lwz r3, lbl_802F1B28-_SDA_BASE_(r13)
/* 80027188 000230A8  48 09 B5 45 */	bl OSAllocFromHeap
/* 8002718C 000230AC  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80027190 000230B0  38 21 00 08 */	addi r1, r1, 8
/* 80027194 000230B4  7C 08 03 A6 */	mtlr r0
/* 80027198 000230B8  4E 80 00 20 */	blr
lbl_8002719C:
/* 8002719C 000230BC  7C 08 02 A6 */	mflr r0
/* 800271A0 000230C0  38 60 00 04 */	li r3, 4
/* 800271A4 000230C4  90 01 00 04 */	stw r0, 4(r1)
/* 800271A8 000230C8  38 80 00 00 */	li r4, 0
/* 800271AC 000230CC  38 C0 00 01 */	li r6, 1
/* 800271B0 000230D0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800271B4 000230D4  38 E0 00 00 */	li r7, 0
/* 800271B8 000230D8  39 00 00 00 */	li r8, 0
/* 800271BC 000230DC  80 A2 89 30 */	lwz r5, lbl_802F3130-_SDA2_BASE_(r2)
/* 800271C0 000230E0  39 20 00 02 */	li r9, 2
/* 800271C4 000230E4  80 02 89 34 */	lwz r0, lbl_802F3134-_SDA2_BASE_(r2)
/* 800271C8 000230E8  90 A1 00 18 */	stw r5, 0x18(r1)
/* 800271CC 000230EC  38 A0 00 00 */	li r5, 0
/* 800271D0 000230F0  90 01 00 14 */	stw r0, 0x14(r1)
/* 800271D4 000230F4  48 0B 9B 4D */	bl GXSetChanCtrl
/* 800271D8 000230F8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800271DC 000230FC  38 81 00 10 */	addi r4, r1, 0x10
/* 800271E0 00023100  38 60 00 04 */	li r3, 4
/* 800271E4 00023104  90 01 00 10 */	stw r0, 0x10(r1)
/* 800271E8 00023108  48 0B 98 1D */	bl GXSetChanAmbColor
/* 800271EC 0002310C  80 01 00 18 */	lwz r0, 0x18(r1)
/* 800271F0 00023110  38 81 00 0C */	addi r4, r1, 0xc
/* 800271F4 00023114  38 60 00 04 */	li r3, 4
/* 800271F8 00023118  90 01 00 0C */	stw r0, 0xc(r1)
/* 800271FC 0002311C  48 0B 99 71 */	bl GXSetChanMatColor
/* 80027200 00023120  38 60 00 01 */	li r3, 1
/* 80027204 00023124  38 80 00 04 */	li r4, 4
/* 80027208 00023128  38 A0 00 05 */	li r5, 5
/* 8002720C 0002312C  38 C0 00 00 */	li r6, 0
/* 80027210 00023130  48 07 6F 01 */	bl func_8009E110
/* 80027214 00023134  80 6D 9F C0 */	lwz r3, zMode-_SDA_BASE_(r13)
/* 80027218 00023138  88 03 00 08 */	lbz r0, 8(r3)
/* 8002721C 0002313C  28 00 00 01 */	cmplwi r0, 1
/* 80027220 00023140  40 82 00 1C */	bne lbl_8002723C
/* 80027224 00023144  80 03 00 04 */	lwz r0, 4(r3)
/* 80027228 00023148  2C 00 00 03 */	cmpwi r0, 3
/* 8002722C 0002314C  40 82 00 10 */	bne lbl_8002723C
/* 80027230 00023150  88 03 00 00 */	lbz r0, 0(r3)
/* 80027234 00023154  28 00 00 01 */	cmplwi r0, 1
/* 80027238 00023158  41 82 00 34 */	beq lbl_8002726C
lbl_8002723C:
/* 8002723C 0002315C  38 60 00 01 */	li r3, 1
/* 80027240 00023160  38 80 00 03 */	li r4, 3
/* 80027244 00023164  38 A0 00 01 */	li r5, 1
/* 80027248 00023168  48 0B BD 8D */	bl GXSetZMode
/* 8002724C 0002316C  80 6D 9F C0 */	lwz r3, zMode-_SDA_BASE_(r13)
/* 80027250 00023170  38 80 00 01 */	li r4, 1
/* 80027254 00023174  38 00 00 03 */	li r0, 3
/* 80027258 00023178  98 83 00 00 */	stb r4, 0(r3)
/* 8002725C 0002317C  80 6D 9F C0 */	lwz r3, zMode-_SDA_BASE_(r13)
/* 80027260 00023180  90 03 00 04 */	stw r0, 4(r3)
/* 80027264 00023184  80 6D 9F C0 */	lwz r3, zMode-_SDA_BASE_(r13)
/* 80027268 00023188  98 83 00 08 */	stb r4, 8(r3)
lbl_8002726C:
/* 8002726C 0002318C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80027270 00023190  38 81 00 08 */	addi r4, r1, 8
/* 80027274 00023194  C0 22 89 38 */	lfs f1, lbl_802F3138-_SDA2_BASE_(r2)
/* 80027278 00023198  38 60 00 00 */	li r3, 0
/* 8002727C 0002319C  90 01 00 08 */	stw r0, 8(r1)
/* 80027280 000231A0  C0 42 89 3C */	lfs f2, lbl_802F313C-_SDA2_BASE_(r2)
/* 80027284 000231A4  C0 62 89 40 */	lfs f3, lbl_802F3140-_SDA2_BASE_(r2)
/* 80027288 000231A8  C0 82 89 44 */	lfs f4, lbl_802F3144-_SDA2_BASE_(r2)
/* 8002728C 000231AC  48 07 71 0D */	bl func_8009E398
/* 80027290 000231B0  38 60 00 01 */	li r3, 1
/* 80027294 000231B4  48 07 72 F5 */	bl func_8009E588
/* 80027298 000231B8  38 60 00 01 */	li r3, 1
/* 8002729C 000231BC  48 0B 7D C9 */	bl GXSetNumTexGens
/* 800272A0 000231C0  38 60 00 01 */	li r3, 1
/* 800272A4 000231C4  48 0B 9A 31 */	bl GXSetNumChans
/* 800272A8 000231C8  38 60 00 00 */	li r3, 0
/* 800272AC 000231CC  38 80 00 00 */	li r4, 0
/* 800272B0 000231D0  38 A0 00 00 */	li r5, 0
/* 800272B4 000231D4  38 C0 00 04 */	li r6, 4
/* 800272B8 000231D8  48 07 7D 3D */	bl func_8009EFF4
/* 800272BC 000231DC  38 60 00 00 */	li r3, 0
/* 800272C0 000231E0  38 80 00 01 */	li r4, 1
/* 800272C4 000231E4  48 07 77 6D */	bl func_8009EA30
/* 800272C8 000231E8  38 00 00 00 */	li r0, 0
/* 800272CC 000231EC  90 0D 9B 48 */	stw r0, perfEnabled-_SDA_BASE_(r13)
/* 800272D0 000231F0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800272D4 000231F4  38 21 00 20 */	addi r1, r1, 0x20
/* 800272D8 000231F8  7C 08 03 A6 */	mtlr r0
/* 800272DC 000231FC  4E 80 00 20 */	blr

.global func_800272E0
func_800272E0:
/* 800272E0 00023200  7C 08 02 A6 */	mflr r0
/* 800272E4 00023204  3C A0 80 02 */	lis r5, perf_alloc@ha
/* 800272E8 00023208  90 01 00 04 */	stw r0, 4(r1)
/* 800272EC 0002320C  3C 80 80 02 */	lis r4, perf_free@ha
/* 800272F0 00023210  3C 60 80 02 */	lis r3, lbl_8002719C@ha
/* 800272F4 00023214  94 21 FF F8 */	stwu r1, -8(r1)
/* 800272F8 00023218  38 C5 71 74 */	addi r6, r5, perf_alloc@l
/* 800272FC 0002321C  38 E4 71 4C */	addi r7, r4, perf_free@l
/* 80027300 00023220  39 03 71 9C */	addi r8, r3, lbl_8002719C@l
/* 80027304 00023224  38 60 00 64 */	li r3, 0x64
/* 80027308 00023228  38 80 00 01 */	li r4, 1
/* 8002730C 0002322C  38 A0 00 03 */	li r5, 3
/* 80027310 00023230  48 0B DB 65 */	bl PERFInit
/* 80027314 00023234  38 60 00 00 */	li r3, 0
/* 80027318 00023238  38 8D 83 30 */	addi r4, r13, lbl_802F0510-_SDA_BASE_
/* 8002731C 0002323C  38 A0 00 00 */	li r5, 0
/* 80027320 00023240  48 0B DD 7D */	bl PERFSetEvent
/* 80027324 00023244  38 60 00 01 */	li r3, 1
/* 80027328 00023248  38 8D 83 38 */	addi r4, r13, lbl_802F0518-_SDA_BASE_
/* 8002732C 0002324C  38 A0 00 00 */	li r5, 0
/* 80027330 00023250  48 0B DD 6D */	bl PERFSetEvent
/* 80027334 00023254  38 60 00 02 */	li r3, 2
/* 80027338 00023258  38 8D 83 40 */	addi r4, r13, lbl_802F0520-_SDA_BASE_
/* 8002733C 0002325C  38 A0 00 01 */	li r5, 1
/* 80027340 00023260  48 0B DD 5D */	bl PERFSetEvent
/* 80027344 00023264  38 60 00 01 */	li r3, 1
/* 80027348 00023268  48 0C 13 35 */	bl PERFSetDrawBWBarKey
/* 8002734C 0002326C  80 6D 97 48 */	lwz r3, __OSCurrHeap-_SDA_BASE_(r13)
/* 80027350 00023270  38 80 30 00 */	li r4, 0x3000
/* 80027354 00023274  48 09 B3 79 */	bl OSAllocFromHeap
/* 80027358 00023278  90 6D 9B 30 */	stw r3, lbl_802F1D10-_SDA_BASE_(r13)
/* 8002735C 0002327C  38 80 30 00 */	li r4, 0x3000
/* 80027360 00023280  80 6D 97 48 */	lwz r3, __OSCurrHeap-_SDA_BASE_(r13)
/* 80027364 00023284  48 09 B3 69 */	bl OSAllocFromHeap
/* 80027368 00023288  38 8D 9B 30 */	addi r4, r13, lbl_802F1D10-_SDA_BASE_
/* 8002736C 0002328C  90 64 00 04 */	stw r3, 4(r4)
/* 80027370 00023290  38 00 00 00 */	li r0, 0
/* 80027374 00023294  90 0D 9B 40 */	stw r0, lbl_802F1D20-_SDA_BASE_(r13)
/* 80027378 00023298  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8002737C 0002329C  38 21 00 08 */	addi r1, r1, 8
/* 80027380 000232A0  7C 08 03 A6 */	mtlr r0
/* 80027384 000232A4  4E 80 00 20 */	blr

.global func_80027388
func_80027388:
/* 80027388 000232A8  7C 08 02 A6 */	mflr r0
/* 8002738C 000232AC  90 01 00 04 */	stw r0, 4(r1)
/* 80027390 000232B0  94 21 FF F8 */	stwu r1, -8(r1)
/* 80027394 000232B4  80 0D 9B 48 */	lwz r0, perfEnabled-_SDA_BASE_(r13)
/* 80027398 000232B8  28 00 00 00 */	cmplwi r0, 0
/* 8002739C 000232BC  41 82 00 3C */	beq lbl_800273D8
/* 800273A0 000232C0  48 0B DD F9 */	bl PERFEndFrame
/* 800273A4 000232C4  48 0B EA FD */	bl PERFStopAutoSampling
/* 800273A8 000232C8  80 0D 9B 40 */	lwz r0, lbl_802F1D20-_SDA_BASE_(r13)
/* 800273AC 000232CC  38 6D 9B 30 */	addi r3, r13, lbl_802F1D10-_SDA_BASE_
/* 800273B0 000232D0  38 80 30 00 */	li r4, 0x3000
/* 800273B4 000232D4  54 00 17 7A */	rlwinm r0, r0, 2, 0x1d, 0x1d
/* 800273B8 000232D8  7C 63 00 2E */	lwzx r3, r3, r0
/* 800273BC 000232DC  48 07 35 AD */	bl begin_display_list
/* 800273C0 000232E0  48 0C 01 11 */	bl PERFDumpScreen
/* 800273C4 000232E4  48 07 35 C5 */	bl end_display_list
/* 800273C8 000232E8  80 0D 9B 40 */	lwz r0, lbl_802F1D20-_SDA_BASE_(r13)
/* 800273CC 000232EC  38 8D 9B 38 */	addi r4, r13, lbl_802F1D18-_SDA_BASE_
/* 800273D0 000232F0  54 00 17 7A */	rlwinm r0, r0, 2, 0x1d, 0x1d
/* 800273D4 000232F4  7C 64 01 2E */	stwx r3, r4, r0
lbl_800273D8:
/* 800273D8 000232F8  80 0D 9B 40 */	lwz r0, lbl_802F1D20-_SDA_BASE_(r13)
/* 800273DC 000232FC  28 00 00 00 */	cmplwi r0, 0
/* 800273E0 00023300  41 82 00 4C */	beq lbl_8002742C
/* 800273E4 00023304  80 0D 9B 48 */	lwz r0, perfEnabled-_SDA_BASE_(r13)
/* 800273E8 00023308  28 00 00 00 */	cmplwi r0, 0
/* 800273EC 0002330C  41 82 00 40 */	beq lbl_8002742C
/* 800273F0 00023310  48 0B EC 3D */	bl PERFPreDraw
/* 800273F4 00023314  80 0D 9B 40 */	lwz r0, lbl_802F1D20-_SDA_BASE_(r13)
/* 800273F8 00023318  38 6D 9B 30 */	addi r3, r13, lbl_802F1D10-_SDA_BASE_
/* 800273FC 0002331C  38 8D 9B 38 */	addi r4, r13, lbl_802F1D18-_SDA_BASE_
/* 80027400 00023320  54 00 17 7A */	rlwinm r0, r0, 2, 0x1d, 0x1d
/* 80027404 00023324  7C 63 00 2E */	lwzx r3, r3, r0
/* 80027408 00023328  7C 84 00 2E */	lwzx r4, r4, r0
/* 8002740C 0002332C  48 0B CF 2D */	bl GXCallDisplayList
/* 80027410 00023330  48 0C 11 B5 */	bl PERFPostDraw
/* 80027414 00023334  80 8D 9F C0 */	lwz r4, zMode-_SDA_BASE_(r13)
/* 80027418 00023338  88 64 00 09 */	lbz r3, 9(r4)
/* 8002741C 0002333C  80 84 00 0C */	lwz r4, 0xc(r4)
/* 80027420 00023340  48 0B 84 3D */	bl GXSetLineWidth
/* 80027424 00023344  48 07 71 99 */	bl func_8009E5BC
/* 80027428 00023348  48 07 7E ED */	bl func_8009F314
lbl_8002742C:
/* 8002742C 0002334C  80 6D 9B 40 */	lwz r3, lbl_802F1D20-_SDA_BASE_(r13)
/* 80027430 00023350  38 03 00 01 */	addi r0, r3, 1
/* 80027434 00023354  90 0D 9B 40 */	stw r0, lbl_802F1D20-_SDA_BASE_(r13)
/* 80027438 00023358  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8002743C 0002335C  38 21 00 08 */	addi r1, r1, 8
/* 80027440 00023360  7C 08 03 A6 */	mtlr r0
/* 80027444 00023364  4E 80 00 20 */	blr

.global func_80027448
func_80027448:
/* 80027448 00023368  7C 08 02 A6 */	mflr r0
/* 8002744C 0002336C  90 01 00 04 */	stw r0, 4(r1)
/* 80027450 00023370  94 21 FF F8 */	stwu r1, -8(r1)
/* 80027454 00023374  80 0D 9C FC */	lwz r0, dipSwitches-_SDA_BASE_(r13)
/* 80027458 00023378  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 8002745C 0002337C  41 82 00 58 */	beq lbl_800274B4
/* 80027460 00023380  3C 60 80 1F */	lis r3, lbl_801F3B70@ha
/* 80027464 00023384  A0 03 3B 70 */	lhz r0, lbl_801F3B70@l(r3)
/* 80027468 00023388  54 00 06 F7 */	rlwinm. r0, r0, 0, 0x1b, 0x1b
/* 8002746C 0002338C  41 82 00 38 */	beq lbl_800274A4
/* 80027470 00023390  88 6D 9B 44 */	lbz r3, lbl_802F1D24-_SDA_BASE_(r13)
/* 80027474 00023394  7C 60 07 74 */	extsb r0, r3
/* 80027478 00023398  2C 00 00 7F */	cmpwi r0, 0x7f
/* 8002747C 0002339C  40 80 00 0C */	bge lbl_80027488
/* 80027480 000233A0  38 03 00 01 */	addi r0, r3, 1
/* 80027484 000233A4  98 0D 9B 44 */	stb r0, lbl_802F1D24-_SDA_BASE_(r13)
lbl_80027488:
/* 80027488 000233A8  88 0D 9B 44 */	lbz r0, lbl_802F1D24-_SDA_BASE_(r13)
/* 8002748C 000233AC  7C 00 07 74 */	extsb r0, r0
/* 80027490 000233B0  2C 00 00 1E */	cmpwi r0, 0x1e
/* 80027494 000233B4  40 81 00 2C */	ble lbl_800274C0
/* 80027498 000233B8  38 00 00 01 */	li r0, 1
/* 8002749C 000233BC  90 0D 9B 48 */	stw r0, perfEnabled-_SDA_BASE_(r13)
/* 800274A0 000233C0  48 00 00 20 */	b lbl_800274C0
lbl_800274A4:
/* 800274A4 000233C4  38 00 00 00 */	li r0, 0
/* 800274A8 000233C8  98 0D 9B 44 */	stb r0, lbl_802F1D24-_SDA_BASE_(r13)
/* 800274AC 000233CC  90 0D 9B 48 */	stw r0, perfEnabled-_SDA_BASE_(r13)
/* 800274B0 000233D0  48 00 00 10 */	b lbl_800274C0
lbl_800274B4:
/* 800274B4 000233D4  38 00 00 00 */	li r0, 0
/* 800274B8 000233D8  98 0D 9B 44 */	stb r0, lbl_802F1D24-_SDA_BASE_(r13)
/* 800274BC 000233DC  90 0D 9B 48 */	stw r0, perfEnabled-_SDA_BASE_(r13)
lbl_800274C0:
/* 800274C0 000233E0  80 0D 9B 48 */	lwz r0, perfEnabled-_SDA_BASE_(r13)
/* 800274C4 000233E4  28 00 00 00 */	cmplwi r0, 0
/* 800274C8 000233E8  41 82 00 10 */	beq lbl_800274D8
/* 800274CC 000233EC  48 0B DC 1D */	bl PERFStartFrame
/* 800274D0 000233F0  C0 22 89 48 */	lfs f1, lbl_802F3148-_SDA2_BASE_(r2)
/* 800274D4 000233F4  48 0B E9 41 */	bl PERFStartAutoSampling
lbl_800274D8:
/* 800274D8 000233F8  80 01 00 0C */	lwz r0, 0xc(r1)
/* 800274DC 000233FC  38 21 00 08 */	addi r1, r1, 8
/* 800274E0 00023400  7C 08 03 A6 */	mtlr r0
/* 800274E4 00023404  4E 80 00 20 */	blr

.global func_800274E8
func_800274E8:
/* 800274E8 00023408  7C 08 02 A6 */	mflr r0
/* 800274EC 0002340C  90 01 00 04 */	stw r0, 4(r1)
/* 800274F0 00023410  94 21 FD 78 */	stwu r1, -0x288(r1)
/* 800274F4 00023414  93 E1 02 84 */	stw r31, 0x284(r1)
/* 800274F8 00023418  40 86 00 24 */	bne cr1, lbl_8002751C
/* 800274FC 0002341C  D8 21 00 28 */	stfd f1, 0x28(r1)
/* 80027500 00023420  D8 41 00 30 */	stfd f2, 0x30(r1)
/* 80027504 00023424  D8 61 00 38 */	stfd f3, 0x38(r1)
/* 80027508 00023428  D8 81 00 40 */	stfd f4, 0x40(r1)
/* 8002750C 0002342C  D8 A1 00 48 */	stfd f5, 0x48(r1)
/* 80027510 00023430  D8 C1 00 50 */	stfd f6, 0x50(r1)
/* 80027514 00023434  D8 E1 00 58 */	stfd f7, 0x58(r1)
/* 80027518 00023438  D9 01 00 60 */	stfd f8, 0x60(r1)
lbl_8002751C:
/* 8002751C 0002343C  90 61 00 08 */	stw r3, 8(r1)
/* 80027520 00023440  3B E3 00 00 */	addi r31, r3, 0
/* 80027524 00023444  3C 00 02 00 */	lis r0, 0x200
/* 80027528 00023448  90 81 00 0C */	stw r4, 0xc(r1)
/* 8002752C 0002344C  38 61 00 70 */	addi r3, r1, 0x70
/* 80027530 00023450  90 A1 00 10 */	stw r5, 0x10(r1)
/* 80027534 00023454  38 A1 02 70 */	addi r5, r1, 0x270
/* 80027538 00023458  90 C1 00 14 */	stw r6, 0x14(r1)
/* 8002753C 0002345C  90 E1 00 18 */	stw r7, 0x18(r1)
/* 80027540 00023460  91 01 00 1C */	stw r8, 0x1c(r1)
/* 80027544 00023464  91 21 00 20 */	stw r9, 0x20(r1)
/* 80027548 00023468  91 41 00 24 */	stw r10, 0x24(r1)
/* 8002754C 0002346C  90 01 02 70 */	stw r0, 0x270(r1)
/* 80027550 00023470  38 01 02 90 */	addi r0, r1, 0x290
/* 80027554 00023474  90 01 02 74 */	stw r0, 0x274(r1)
/* 80027558 00023478  38 01 00 08 */	addi r0, r1, 8
/* 8002755C 0002347C  90 01 02 78 */	stw r0, 0x278(r1)
/* 80027560 00023480  48 0D D7 99 */	bl vsprintf
/* 80027564 00023484  3C 60 80 1B */	lis r3, lbl_801B339C@ha
/* 80027568 00023488  4C C6 31 82 */	crclr 6
/* 8002756C 0002348C  38 63 33 9C */	addi r3, r3, lbl_801B339C@l
/* 80027570 00023490  48 0D D8 7D */	bl printf
/* 80027574 00023494  38 7F 00 00 */	addi r3, r31, 0
/* 80027578 00023498  4C C6 31 82 */	crclr 6
/* 8002757C 0002349C  48 0D D8 71 */	bl printf
/* 80027580 000234A0  38 61 00 70 */	addi r3, r1, 0x70
/* 80027584 000234A4  4C C6 31 82 */	crclr 6
/* 80027588 000234A8  48 0D D8 65 */	bl printf
/* 8002758C 000234AC  80 01 02 8C */	lwz r0, 0x28c(r1)
/* 80027590 000234B0  83 E1 02 84 */	lwz r31, 0x284(r1)
/* 80027594 000234B4  38 21 02 88 */	addi r1, r1, 0x288
/* 80027598 000234B8  7C 08 03 A6 */	mtlr r0
/* 8002759C 000234BC  4E 80 00 20 */	blr

.global func_800275A0
func_800275A0:
/* 800275A0 000234C0  7C 08 02 A6 */	mflr r0
/* 800275A4 000234C4  2C 04 00 01 */	cmpwi r4, 1
/* 800275A8 000234C8  90 01 00 04 */	stw r0, 4(r1)
/* 800275AC 000234CC  3C C0 80 1B */	lis r6, lbl_801AC960@ha
/* 800275B0 000234D0  3C A0 80 20 */	lis r5, lbl_801F8E18@ha
/* 800275B4 000234D4  94 21 FE E0 */	stwu r1, -0x120(r1)
/* 800275B8 000234D8  93 E1 01 1C */	stw r31, 0x11c(r1)
/* 800275BC 000234DC  3B E5 8E 18 */	addi r31, r5, lbl_801F8E18@l
/* 800275C0 000234E0  93 C1 01 18 */	stw r30, 0x118(r1)
/* 800275C4 000234E4  3B C6 C9 60 */	addi r30, r6, lbl_801AC960@l
/* 800275C8 000234E8  93 A1 01 14 */	stw r29, 0x114(r1)
/* 800275CC 000234EC  93 81 01 10 */	stw r28, 0x110(r1)
/* 800275D0 000234F0  3B 83 00 00 */	addi r28, r3, 0
/* 800275D4 000234F4  41 82 01 48 */	beq lbl_8002771C
/* 800275D8 000234F8  40 80 00 10 */	bge lbl_800275E8
/* 800275DC 000234FC  2C 04 00 00 */	cmpwi r4, 0
/* 800275E0 00023500  40 80 00 14 */	bge lbl_800275F4
/* 800275E4 00023504  48 00 01 38 */	b lbl_8002771C
lbl_800275E8:
/* 800275E8 00023508  2C 04 00 03 */	cmpwi r4, 3
/* 800275EC 0002350C  40 80 01 30 */	bge lbl_8002771C
/* 800275F0 00023510  48 00 00 9C */	b lbl_8002768C
lbl_800275F4:
/* 800275F4 00023514  38 60 00 00 */	li r3, 0
/* 800275F8 00023518  48 0C 77 A1 */	bl sndOutputMode
/* 800275FC 0002351C  2C 1C 00 00 */	cmpwi r28, 0
/* 80027600 00023520  40 82 00 2C */	bne lbl_8002762C
/* 80027604 00023524  3B 80 00 00 */	li r28, 0
/* 80027608 00023528  1C 1C 00 50 */	mulli r0, r28, 0x50
/* 8002760C 0002352C  7F BF 02 14 */	add r29, r31, r0
/* 80027610 00023530  3B BD 57 C0 */	addi r29, r29, 0x57c0
lbl_80027614:
/* 80027614 00023534  7F A3 EB 78 */	mr r3, r29
/* 80027618 00023538  48 0D B8 F1 */	bl DTKRemoveTrack
/* 8002761C 0002353C  3B 9C 00 01 */	addi r28, r28, 1
/* 80027620 00023540  2C 1C 00 4A */	cmpwi r28, 0x4a
/* 80027624 00023544  3B BD 00 50 */	addi r29, r29, 0x50
/* 80027628 00023548  41 80 FF EC */	blt lbl_80027614
lbl_8002762C:
/* 8002762C 0002354C  38 00 00 00 */	li r0, 0
/* 80027630 00023550  1C 00 00 50 */	mulli r0, r0, 0x50
/* 80027634 00023554  3B 80 00 4A */	li r28, 0x4a
/* 80027638 00023558  57 83 20 36 */	slwi r3, r28, 4
/* 8002763C 0002355C  7F BE 1A 14 */	add r29, r30, r3
/* 80027640 00023560  7F FF 02 14 */	add r31, r31, r0
/* 80027644 00023564  3B BD 60 FC */	addi r29, r29, 0x60fc
/* 80027648 00023568  3B FF 57 C0 */	addi r31, r31, 0x57c0
lbl_8002764C:
/* 8002764C 0002356C  80 BD 00 00 */	lwz r5, 0(r29)
/* 80027650 00023570  38 61 00 10 */	addi r3, r1, 0x10
/* 80027654 00023574  38 9E 6A 54 */	addi r4, r30, 0x6a54
/* 80027658 00023578  4C C6 31 82 */	crclr 6
/* 8002765C 0002357C  48 0D D5 C9 */	bl sprintf
/* 80027660 00023580  38 9F 00 00 */	addi r4, r31, 0
/* 80027664 00023584  38 61 00 10 */	addi r3, r1, 0x10
/* 80027668 00023588  38 A0 00 00 */	li r5, 0
/* 8002766C 0002358C  38 C0 00 00 */	li r6, 0
/* 80027670 00023590  48 0D B7 7D */	bl DTKQueueTrack
/* 80027674 00023594  3B 9C 00 01 */	addi r28, r28, 1
/* 80027678 00023598  2C 1C 00 94 */	cmpwi r28, 0x94
/* 8002767C 0002359C  3B BD 00 10 */	addi r29, r29, 0x10
/* 80027680 000235A0  3B FF 00 50 */	addi r31, r31, 0x50
/* 80027684 000235A4  41 80 FF C8 */	blt lbl_8002764C
/* 80027688 000235A8  48 00 00 94 */	b lbl_8002771C
lbl_8002768C:
/* 8002768C 000235AC  38 60 00 02 */	li r3, 2
/* 80027690 000235B0  48 0C 77 09 */	bl sndOutputMode
/* 80027694 000235B4  2C 1C 00 00 */	cmpwi r28, 0
/* 80027698 000235B8  40 82 00 2C */	bne lbl_800276C4
/* 8002769C 000235BC  3B 80 00 00 */	li r28, 0
/* 800276A0 000235C0  1C 1C 00 50 */	mulli r0, r28, 0x50
/* 800276A4 000235C4  7F BF 02 14 */	add r29, r31, r0
/* 800276A8 000235C8  3B BD 57 C0 */	addi r29, r29, 0x57c0
lbl_800276AC:
/* 800276AC 000235CC  7F A3 EB 78 */	mr r3, r29
/* 800276B0 000235D0  48 0D B8 59 */	bl DTKRemoveTrack
/* 800276B4 000235D4  3B 9C 00 01 */	addi r28, r28, 1
/* 800276B8 000235D8  2C 1C 00 4A */	cmpwi r28, 0x4a
/* 800276BC 000235DC  3B BD 00 50 */	addi r29, r29, 0x50
/* 800276C0 000235E0  41 80 FF EC */	blt lbl_800276AC
lbl_800276C4:
/* 800276C4 000235E4  3B 80 00 00 */	li r28, 0
/* 800276C8 000235E8  1C 1C 00 50 */	mulli r0, r28, 0x50
/* 800276CC 000235EC  57 83 20 36 */	slwi r3, r28, 4
/* 800276D0 000235F0  7F BE 1A 14 */	add r29, r30, r3
/* 800276D4 000235F4  7F FF 02 14 */	add r31, r31, r0
/* 800276D8 000235F8  3B BD 60 FC */	addi r29, r29, 0x60fc
/* 800276DC 000235FC  3B FF 57 C0 */	addi r31, r31, 0x57c0
lbl_800276E0:
/* 800276E0 00023600  80 BD 00 00 */	lwz r5, 0(r29)
/* 800276E4 00023604  38 61 00 10 */	addi r3, r1, 0x10
/* 800276E8 00023608  38 9E 6A 54 */	addi r4, r30, 0x6a54
/* 800276EC 0002360C  4C C6 31 82 */	crclr 6
/* 800276F0 00023610  48 0D D5 35 */	bl sprintf
/* 800276F4 00023614  38 9F 00 00 */	addi r4, r31, 0
/* 800276F8 00023618  38 61 00 10 */	addi r3, r1, 0x10
/* 800276FC 0002361C  38 A0 00 00 */	li r5, 0
/* 80027700 00023620  38 C0 00 00 */	li r6, 0
/* 80027704 00023624  48 0D B6 E9 */	bl DTKQueueTrack
/* 80027708 00023628  3B 9C 00 01 */	addi r28, r28, 1
/* 8002770C 0002362C  2C 1C 00 4A */	cmpwi r28, 0x4a
/* 80027710 00023630  3B BD 00 10 */	addi r29, r29, 0x10
/* 80027714 00023634  3B FF 00 50 */	addi r31, r31, 0x50
/* 80027718 00023638  41 80 FF C8 */	blt lbl_800276E0
lbl_8002771C:
/* 8002771C 0002363C  80 01 01 24 */	lwz r0, 0x124(r1)
/* 80027720 00023640  83 E1 01 1C */	lwz r31, 0x11c(r1)
/* 80027724 00023644  83 C1 01 18 */	lwz r30, 0x118(r1)
/* 80027728 00023648  7C 08 03 A6 */	mtlr r0
/* 8002772C 0002364C  83 A1 01 14 */	lwz r29, 0x114(r1)
/* 80027730 00023650  83 81 01 10 */	lwz r28, 0x110(r1)
/* 80027734 00023654  38 21 01 20 */	addi r1, r1, 0x120
/* 80027738 00023658  4E 80 00 20 */	blr

.global func_8002773C
func_8002773C:
/* 8002773C 0002365C  7C 08 02 A6 */	mflr r0
/* 80027740 00023660  3C A0 80 1B */	lis r5, lbl_801AC960@ha
/* 80027744 00023664  90 01 00 04 */	stw r0, 4(r1)
/* 80027748 00023668  94 21 FF 90 */	stwu r1, -0x70(r1)
/* 8002774C 0002366C  93 E1 00 6C */	stw r31, 0x6c(r1)
/* 80027750 00023670  3B E5 C9 60 */	addi r31, r5, lbl_801AC960@l
/* 80027754 00023674  93 C1 00 68 */	stw r30, 0x68(r1)
/* 80027758 00023678  93 A1 00 64 */	stw r29, 0x64(r1)
/* 8002775C 0002367C  3B A4 00 00 */	addi r29, r4, 0
/* 80027760 00023680  38 81 00 10 */	addi r4, r1, 0x10
/* 80027764 00023684  93 81 00 60 */	stw r28, 0x60(r1)
/* 80027768 00023688  3B 83 00 00 */	addi r28, r3, 0
/* 8002776C 0002368C  48 06 A8 6D */	bl file_open
/* 80027770 00023690  2C 03 00 00 */	cmpwi r3, 0
/* 80027774 00023694  40 82 00 20 */	bne lbl_80027794
/* 80027778 00023698  38 BC 00 00 */	addi r5, r28, 0
/* 8002777C 0002369C  4C C6 31 82 */	crclr 6
/* 80027780 000236A0  38 7F 6A 6C */	addi r3, r31, 0x6a6c
/* 80027784 000236A4  38 9F 6A 7C */	addi r4, r31, 0x6a7c
/* 80027788 000236A8  4B FF FD 61 */	bl func_800274E8
/* 8002778C 000236AC  38 60 00 00 */	li r3, 0
/* 80027790 000236B0  48 00 00 BC */	b lbl_8002784C
lbl_80027794:
/* 80027794 000236B4  38 61 00 10 */	addi r3, r1, 0x10
/* 80027798 000236B8  48 06 AA 01 */	bl file_size
/* 8002779C 000236BC  28 03 00 00 */	cmplwi r3, 0
/* 800277A0 000236C0  40 82 00 20 */	bne lbl_800277C0
/* 800277A4 000236C4  38 BC 00 00 */	addi r5, r28, 0
/* 800277A8 000236C8  4C C6 31 82 */	crclr 6
/* 800277AC 000236CC  38 7F 6A 6C */	addi r3, r31, 0x6a6c
/* 800277B0 000236D0  38 9F 6A 94 */	addi r4, r31, 0x6a94
/* 800277B4 000236D4  4B FF FD 35 */	bl func_800274E8
/* 800277B8 000236D8  38 60 00 00 */	li r3, 0
/* 800277BC 000236DC  48 00 00 90 */	b lbl_8002784C
lbl_800277C0:
/* 800277C0 000236E0  38 03 00 1F */	addi r0, r3, 0x1f
/* 800277C4 000236E4  54 00 00 34 */	rlwinm r0, r0, 0, 0, 0x1a
/* 800277C8 000236E8  90 1D 00 00 */	stw r0, 0(r29)
/* 800277CC 000236EC  80 6D 97 48 */	lwz r3, __OSCurrHeap-_SDA_BASE_(r13)
/* 800277D0 000236F0  80 9D 00 00 */	lwz r4, 0(r29)
/* 800277D4 000236F4  48 09 AE F9 */	bl OSAllocFromHeap
/* 800277D8 000236F8  7C 7E 1B 79 */	or. r30, r3, r3
/* 800277DC 000236FC  40 82 00 20 */	bne lbl_800277FC
/* 800277E0 00023700  38 BC 00 00 */	addi r5, r28, 0
/* 800277E4 00023704  4C C6 31 82 */	crclr 6
/* 800277E8 00023708  38 7F 6A 6C */	addi r3, r31, 0x6a6c
/* 800277EC 0002370C  38 9F 6A AC */	addi r4, r31, 0x6aac
/* 800277F0 00023710  4B FF FC F9 */	bl func_800274E8
/* 800277F4 00023714  38 60 00 00 */	li r3, 0
/* 800277F8 00023718  48 00 00 54 */	b lbl_8002784C
lbl_800277FC:
/* 800277FC 0002371C  80 BD 00 00 */	lwz r5, 0(r29)
/* 80027800 00023720  38 9E 00 00 */	addi r4, r30, 0
/* 80027804 00023724  38 61 00 10 */	addi r3, r1, 0x10
/* 80027808 00023728  38 C0 00 00 */	li r6, 0
/* 8002780C 0002372C  48 06 A8 C9 */	bl file_read
/* 80027810 00023730  2C 03 00 00 */	cmpwi r3, 0
/* 80027814 00023734  41 81 00 2C */	bgt lbl_80027840
/* 80027818 00023738  38 BC 00 00 */	addi r5, r28, 0
/* 8002781C 0002373C  4C C6 31 82 */	crclr 6
/* 80027820 00023740  38 7F 6A 6C */	addi r3, r31, 0x6a6c
/* 80027824 00023744  38 9F 6A CC */	addi r4, r31, 0x6acc
/* 80027828 00023748  4B FF FC C1 */	bl func_800274E8
/* 8002782C 0002374C  80 6D 97 48 */	lwz r3, __OSCurrHeap-_SDA_BASE_(r13)
/* 80027830 00023750  7F C4 F3 78 */	mr r4, r30
/* 80027834 00023754  48 09 AF 95 */	bl OSFreeToHeap
/* 80027838 00023758  38 60 00 00 */	li r3, 0
/* 8002783C 0002375C  48 00 00 10 */	b lbl_8002784C
lbl_80027840:
/* 80027840 00023760  38 61 00 10 */	addi r3, r1, 0x10
/* 80027844 00023764  48 06 A8 45 */	bl file_close
/* 80027848 00023768  7F C3 F3 78 */	mr r3, r30
lbl_8002784C:
/* 8002784C 0002376C  80 01 00 74 */	lwz r0, 0x74(r1)
/* 80027850 00023770  83 E1 00 6C */	lwz r31, 0x6c(r1)
/* 80027854 00023774  83 C1 00 68 */	lwz r30, 0x68(r1)
/* 80027858 00023778  7C 08 03 A6 */	mtlr r0
/* 8002785C 0002377C  83 A1 00 64 */	lwz r29, 0x64(r1)
/* 80027860 00023780  83 81 00 60 */	lwz r28, 0x60(r1)
/* 80027864 00023784  38 21 00 70 */	addi r1, r1, 0x70
/* 80027868 00023788  4E 80 00 20 */	blr

.section .sdata2

.global lbl_802F3130
lbl_802F3130:
	# ROM: 0x1ECB50
	.byte 0xFF, 0xFF, 0xFF, 0xFF

.global lbl_802F3134
lbl_802F3134:
	# ROM: 0x1ECB54
	.byte 0x00, 0x00, 0x00, 0xFF

.global lbl_802F3138
lbl_802F3138:
	# ROM: 0x1ECB58
	.4byte 0

.global lbl_802F313C
lbl_802F313C:
	# ROM: 0x1ECB5C
	.byte 0x42, 0xC8, 0x00, 0x00

.global lbl_802F3140
lbl_802F3140:
	# ROM: 0x1ECB60
	.byte 0x3D, 0xCC, 0xCC, 0xCD

.global lbl_802F3144
lbl_802F3144:
	# ROM: 0x1ECB64
	.byte 0x46, 0x9C, 0x40, 0x00

.global lbl_802F3148
lbl_802F3148:
	# ROM: 0x1ECB68
	.byte 0x3F, 0x80, 0x00, 0x00
	.4byte 0
